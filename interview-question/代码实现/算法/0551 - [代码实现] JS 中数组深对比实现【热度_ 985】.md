# [代码实现] JS 中数组深对比实现【热度: 985】

- Issue: #551
- State: open
- Labels: 网易, 代码实现/算法
- Author: yanlele
- URL: https://github.com/pro-collection/interview-question/issues/551
- Created: 2023-09-06T16:00:24Z
- Updated: 2024-08-01T12:15:28Z

## Body

**关键词**：JS数组对比

在JavaScript中，可以使用递归的方式实现数组的深度对比。以下是一个示例函数，用于比较两个数组是否相等：

```javascript
// 判断对象是否相同
function deepEqual(obj1, obj2) {
  // 检查类型是否相同
  if (typeof obj1 !== typeof obj2) {
    return false;
  }
  
  // 检查是否是对象或数组
  if (typeof obj1 === 'object' && obj1 !== null && obj2 !== null) {
    // 检查对象或数组长度是否相同
    if (Object.keys(obj1).length !== Object.keys(obj2).length) {
      return false;
    }
  
    for (let key in obj1) {
      // 递归比较每个属性的值
      if (!deepEqual(obj1[key], obj2[key])) {
        return false;
      }
    }
    
    return true;
  }
  
  // 比较基本类型的值
  return obj1 === obj2;
}

function deepArrayEqual(arr1, arr2) {
  // 检查数组长度是否相同
  if (arr1.length !== arr2.length) {
    return false;
  }
  
  for (let i = 0; i < arr1.length; i++) {
    const value1 = arr1[i];
    const value2 = arr2[i];
    
    // 递归比较每个元素的值
    if (Array.isArray(value1) && Array.isArray(value2)) {
      if (!deepArrayEqual(value1, value2)) {
        return false;
      }
    } else if (typeof value1 === 'object' && typeof value2 === 'object') {
      if (!deepEqual(value1, value2)) {
        return false;
      }
    } else {
      // 比较基本类型的值
      if (value1 !== value2) {
        return false;
      }
    }
  }
  
  return true;
}
```

使用示例：

```javascript
const arr1 = [1, [2, 3], { name: 'John' }];
const arr2 = [1, [2, 3], { name: 'John' }];
const arr3 = [1, [2, 3], { name: 'Jane' }];

console.log(deepArrayEqual(arr1, arr2)); // true
console.log(deepArrayEqual(arr1, arr3)); // false
```

在上述示例中，`deepArrayEqual`函数会递归比较两个数组的每个元素的值，包括嵌套的数组和对象。如果两个数组是相等的，则返回`true`，否则返回`false`。注意，该函数不会检查函数、正则表达式、日期等复杂类型的值。


## Comments / Answers

---

**plutda** at 2023-09-10T07:15:39Z

deepEqual的实现漏了吧

---

**yanlele** at 2023-09-10T08:07:45Z

@plutda 请问具体是指？


---

**plutda** at 2023-09-10T09:47:09Z

> @plutda 请问具体是指？

第17行，比较两个对象的deepEqual函数没有实现呀

---

**yanlele** at 2023-09-10T13:55:10Z

@plutda 哎哟我去， 我真眼睛瞎了；

deepEqual 是对象深度对比， 可以看看这个， 具体实现， 我也更正一下， 贴如这个项目里面来；

https://github.com/pro-collection/interview-question/issues/550

---

**yanlele** at 2023-09-10T13:55:53Z

> > @plutda 请问具体是指？
> 
> 第17行，比较两个对象的deepEqual函数没有实现呀

感谢小伙伴反馈， 认真的同学 @plutda 

---

**whynyist** at 2024-08-01T12:15:27Z

数组元素有函数的话就不对了
