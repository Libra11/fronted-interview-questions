<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[低代码] 代码平台一般渲染是如何设计的？【热度: 399】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：代码平台渲染设计&lt;/p&gt;&lt;p&gt;&lt;strong&gt;渲染设计&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;渲染核心本质就是： [schema] + [组件] = [页面]&lt;/p&gt;&lt;h3&gt;整体架构如下&lt;/h3&gt;&lt;p&gt;&lt;img alt=&quot;01&quot; src=&quot;" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="[低代码] 代码平台一般渲染是如何设计的？【热度: 399】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：代码平台渲染设计&lt;/p&gt;&lt;p&gt;&lt;strong&gt;渲染设计&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;渲染核心本质就是： [schema] + [组件] = [页面]&lt;/p&gt;&lt;h3&gt;整体架构如下&lt;/h3&gt;&lt;p&gt;&lt;img alt=&quot;01&quot; src=&quot;https://img.alicdn.com/imgextra/i1/O1CN01i4IiSR1cMtUFXaWQq_!" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/630" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>[低代码] 代码平台一般渲染是如何设计的？【热度: 399】</h1>
      <div class="subtitle">阿里巴巴 · 工程化 · 阿里巴巴</div>
      <div class="meta">创建：2023-11-10T15:06:06Z · 更新：2023-11-10T15:06:06Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：代码平台渲染设计</p><p><strong>渲染设计</strong></p><p>渲染核心本质就是： [schema] + [组件] = [页面]</p><h3>整体架构如下</h3><p><img alt="01" src="https://img.alicdn.com/imgextra/i1/O1CN01i4IiSR1cMtUFXaWQq_!!6000000003587-2-tps-1686-1062.png" /></p><ul><li><strong>协议层</strong>：基于《低代码引擎搭建协议规范》 产出的 Schema 作为我们的规范协议。</li><li><strong>能力层</strong>：提供组件、区块、页面等渲染所需的核心能力，包括 Props 解析、样式注入、条件渲染等。</li><li><strong>适配层</strong>：由于我们使用的运行时框架不是统一的，所以统一使用适配层将不同运行框架的差异部分，通过接口对外，让渲染层注册/适配对应所需的方法。能保障渲染层和能力层直接通过适配层连接起来，能起到独立可扩展的作用。</li><li><strong>渲染层</strong>：提供核心的渲染方法，由于不同运行时框架提供的渲染方法是不同的，所以其通过适配层进行注入，只需要提供适配层所需的接口，即可实现渲染。</li><li><strong>应用层</strong>：根据渲染层所提供的方法，可以应用到项目中，根据使用的方法和规模即可实现应用、页面、区块的渲染。</li></ul><h3>设计模式渲染（Simulator）</h3><p>设计模式渲染就是将编排生成的《搭建协议》渲染成视图的过程，视图是可以交互的，所以必须要处理好内部数据流、生命周期、事件绑定、国际化等等。</p><p>也称为画布的渲染，画布是 UI 编排的核心，它一般融合了页面的渲染以及组件/区块的拖拽、选择、快捷配置。</p><p>画布的渲染和预览模式的渲染的区别在于，画布的渲染和设计器之间是有交互的。</p><p>所以在这里我们新增了一层 Simulator 作为设计器和渲染的连接器。</p><p>Simulator 是将设计器传入的 DocumentModel 和组件/库描述转成相应的 Schema 和 组件类。再调用 Render 层完成渲染。我们这里介绍一下它提供的能力。</p><p><img alt="02" src="https://img.alicdn.com/imgextra/i2/O1CN017cYBAp1hvJKPUVLbx_!!6000000004339-2-tps-1500-864.png" /></p><ul><li><strong>Project</strong>：位于顶层的 Project，保留了对所有文档模型的引用，用于管理应用级 Schema 的导入与导出。</li><li><strong>Document</strong>：文档模型包括 Simulator 与数据模型两部分。Simulator 通过一份 Simulator Host 协议与数据模型层通信，达到画布上的 UI 操作驱动数据模型变化。通过多文档的设计及多 Tab 交互方式，能够实现同时设计多个页面，以及在一个浏览器标签里进行搭建与配置应用属性。</li><li><strong>Simulator</strong>：模拟器主要承载特定运行时环境的页面渲染及与模型层的通信。</li><li><strong>Node</strong>：节点模型是对可视化组件/区块的抽象，保留了组件属性集合 Props 的引用，封装了一系列针对组件的 API，比如修改、编辑、保存、拖拽、复制等。</li><li><strong>Props</strong>：描述了当前组件所维系的所有可以「设计」的属性，提供一系列操作、遍历和修改属性的方法。同时保持对单个属性 Prop 的引用。</li><li><strong>Prop</strong>：属性模型 Prop 与当前可视化组件/区块的某一具体属性想映射，提供了一系列操作属性变更的 API。</li><li><strong>Settings</strong>：SettingField 的集合。</li><li><strong>SettingField</strong>：它连接属性设置器 Setter 与属性模型 Prop，它是实现多节点属性批处理的关键。</li><li><strong>通用交互模型</strong>：内置了拖拽、活跃追踪、悬停探测、剪贴板、滚动、快捷键绑定。</li></ul><h3>模拟器</h3><p><img alt="03" src="https://img.alicdn.com/imgextra/i2/O1CN01GF1PMj288kxovvnK8_!!6000000007888-2-tps-1500-740.png" /></p><ul><li><strong>运行时环境</strong>：从运行时环境来看，目前我们有 React 生态、Rax 生态。而在对外的历程中，我们也会拥有 Vue 生态、Angular 生态等。</li><li><strong>布局模式</strong>：不同于 C 端营销页的搭建，中后台场景大多是表单、表格，流式布局是主流的选择。对于设计师、产品来说，是需要绝对布局的方式来进行页面研发的。</li><li><strong>研发场景</strong>：从研发场景来看，低代码搭建不仅有页面编排，还有诸如逻辑编排、业务编排的场景。</li></ul><h3>参考</h3><p>https://lowcode-engine.cn/site/docs/guide/design/renderer</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>