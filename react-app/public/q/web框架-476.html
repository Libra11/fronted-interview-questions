<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[React] 函数组件和 class 组件有什么区别？【热度: 1,029】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：React函数组件对比类组件、React函数组件对比类组件性能、React函数组件对比类组件状态管理、React函数组件与类组件&lt;/p&gt;&lt;p&gt;函数组件和类组件是React中两种定义组件的方式，它们有以下区别：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="[React] 函数组件和 class 组件有什么区别？【热度: 1,029】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：React函数组件对比类组件、React函数组件对比类组件性能、React函数组件对比类组件状态管理、React函数组件与类组件&lt;/p&gt;&lt;p&gt;函数组件和类组件是React中两种定义组件的方式，它们有以下区别：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;语法：函数组件是使用函数声明的方式定义组件，而类组件是使用ES6的class语法定义组件。&lt;/li&gt;&lt;/ol&gt;&lt;ol&gt;&lt;" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/476" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>[React] 函数组件和 class 组件有什么区别？【热度: 1,029】</h1>
      <div class="subtitle">web框架 · web框架 · PDD</div>
      <div class="meta">创建：2023-07-09T11:46:14Z · 更新：2023-07-09T11:46:15Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：React函数组件对比类组件、React函数组件对比类组件性能、React函数组件对比类组件状态管理、React函数组件与类组件</p><p>函数组件和类组件是React中两种定义组件的方式，它们有以下区别：</p><ol><li>语法：函数组件是使用函数声明的方式定义组件，而类组件是使用ES6的class语法定义组件。</li></ol><ol><li>写法和简洁性：函数组件更为简洁，没有类组件中的繁琐的生命周期方法和this关键字。函数组件只是一个纯粹的JavaScript函数，可以直接返回JSX元素。</li></ol><ol><li>状态管理：在React的早期版本中，函数组件是无法拥有自己的状态（state）和生命周期方法的。但是从React 16.8开始，React引入了Hooks（钩子）机制，使得函数组件也能够拥有状态和使用生命周期方法。</li></ol><ol><li>性能：由于函数组件不拥有实例化的过程，相较于类组件，它的性能会稍微高一些。但是在React 16.6之后，通过React.memo和PureComponent的优化，类组件也能够具备相对较好的性能表现。</li></ol><p>总体来说，函数组件更加简洁、易读，适合用于无需复杂逻辑和生命周期方法的场景，而类组件适合于需要较多逻辑处理和生命周期控制的场景。另外，使用Hooks后，函数组件也能够拥有与类组件类似的能力，因此在开发中可以更加灵活地选择使用哪种方式来定义组件。</p><p><strong>状态管理方面做对比</strong></p><p>从状态管理的角度来看，函数组件和类组件在React中的区别主要体现在以下几个方面：</p><ol><li>类组件中的状态管理：类组件通过使用<code>state</code>属性来存储和管理组件的状态。<code>state</code>是一个对象，可以通过<code>this.state</code>进行访问和修改。类组件可以使用<code>setState</code>方法来更新状态，并通过<code>this.setState</code>来触发组件的重新渲染。在类组件中，状态的更新是异步的，React会将多次的状态更新合并为一次更新，以提高性能。</li></ol><ol><li>函数组件中的状态管理：在React之前的版本中，函数组件是没有自己的状态的，只能通过父组件通过<code>props</code>传递数据给它。但是从React 16.8版本开始，通过引入Hooks机制，函数组件也可以使用<code>useState</code>钩子来定义和管理自己的状态。<code>useState</code>返回一个状态值和一个更新该状态值的函数，通过解构赋值的方式进行使用。每次调用状态更新函数，都会触发组件的重新渲染。</li></ol><ol><li>类组件的生命周期方法：类组件有很多生命周期方法，例如<code>componentDidMount</code>、<code>componentDidUpdate</code>、<code>componentWillUnmount</code>等等。这些生命周期方法可以用来在不同的阶段执行特定的逻辑，例如在<code>componentDidMount</code>中进行数据的初始化，在<code>componentDidUpdate</code>中处理状态或属性的变化等等。通过这些生命周期方法，类组件可以对组件的状态进行更加细粒度的控制。</li></ol><ol><li>函数组件中的副作用处理：在函数组件中，可以使用<code>useEffect</code>钩子来处理副作用逻辑，例如数据获取、订阅事件、DOM操作等。<code>useEffect</code>接收一个回调函数和一个依赖数组，可以在回调函数中执行副作用逻辑，依赖数组用于控制副作用的执行时机。函数组件的副作用处理与类组件的生命周期方法类似，但是可以更灵活地控制执行时机。</li></ol><p>函数组件和类组件在状态管理方面的主要区别是函数组件通过使用Hooks机制来定义和管理状态，而类组件通过<code>state</code>属性来存储和管理状态。</p><p>函数组件中使用<code>useState</code>来定义和更新状态，而类组件则使用<code>setState</code>方法。</p><p>另外，函数组件也可以使用<code>useEffect</code>来处理副作用逻辑，类似于类组件的生命周期方法。通过使用Hooks，函数组件在状态管理方面的能力得到了大幅度的提升和扩展。</p><p><strong>性能方面做对比</strong></p><p>在性能方面，函数组件和类组件的表现也有一些区别。</p><ol><li>初始渲染性能：函数组件相对于类组件来说，在初始渲染时具有更好的性能。这是因为函数组件本身的实现比类组件更加简单，不需要进行实例化和维护额外的实例属性。函数组件在渲染时更轻量化，因此在初始渲染时更快。</li></ol><ol><li>更新性能：当组件的状态或属性发生变化时，React会触发组件的重新渲染。在类组件中，由于状态的更新是异步的，React会将多次的状态更新合并为一次更新，以提高性能。而在函数组件中，由于每次状态更新都会触发组件的重新渲染，可能会导致性能略低于类组件。但是，通过使用React的memo或useMemo、useCallback等优化技术，可以在函数组件中避免不必要的重新渲染，从而提高性能。</li></ol><ol><li>代码拆分和懒加载：由于函数组件本身的实现比类组件更加简单，所以在进行代码拆分和懒加载时，函数组件相对于类组件更容易实现。React的Suspense和lazy技术可以在函数组件中实现组件的按需加载，从而提高应用的性能。</li></ol><p>函数组件相对于类组件在初始渲染和代码拆分方面具有优势，在更新性能方面可能稍逊一筹。然而，React的优化技术可以在函数组件中应用，以提高性能并减少不必要的渲染。此外，性能的差异在实际应用中可能并不明显，因此在选择使用函数组件还是类组件时，应根据具体场景和需求进行综合考量。</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>