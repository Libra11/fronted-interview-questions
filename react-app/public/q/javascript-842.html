<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>在创建对象的时候， new class 和 new function 可有什么区别【热度: 447】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：创建对象实例&lt;/p&gt;&lt;p&gt;在 JavaScript 中，使用&lt;code&gt;new&lt;/code&gt;操作符创建对象时，既可以使用类（&lt;code&gt;class&lt;/code&gt;）也可以使用构造函数（&lt;code&gt;function&lt;/code&gt;）。二者" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="在创建对象的时候， new class 和 new function 可有什么区别【热度: 447】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：创建对象实例&lt;/p&gt;&lt;p&gt;在 JavaScript 中，使用&lt;code&gt;new&lt;/code&gt;操作符创建对象时，既可以使用类（&lt;code&gt;class&lt;/code&gt;）也可以使用构造函数（&lt;code&gt;function&lt;/code&gt;）。二者都可以用来实例化新的对象，但它们之间存在一些关键的区别和相似之处：&lt;/p&gt;&lt;h3&gt;使用&lt;code&gt;new&lt;/code&gt;操" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/842" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>在创建对象的时候， new class 和 new function 可有什么区别【热度: 447】</h1>
      <div class="subtitle">JavaScript · JavaScript · 百度</div>
      <div class="meta">创建：2024-08-18T06:43:53Z · 更新：2024-08-18T06:43:53Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：创建对象实例</p><p>在 JavaScript 中，使用<code>new</code>操作符创建对象时，既可以使用类（<code>class</code>）也可以使用构造函数（<code>function</code>）。二者都可以用来实例化新的对象，但它们之间存在一些关键的区别和相似之处：</p><h3>使用<code>new</code>操作符</h3><p>当使用<code>new</code>操作符时，JavaScript 会执行以下步骤：</p><ol><li>创建一个全新的空对象。</li><li>将这个空对象的原型(<code>__proto__</code>)设置为构造函数的<code>prototype</code>属性。</li><li>将<code>this</code>绑定到新创建的对象上，以便构造函数可以引用它。</li><li>执行构造函数内的代码（对新对象进行初始化）。</li><li>如果构造函数返回一个对象，则返回该对象；否则，返回刚才创建的新对象。</li></ol><h3>使用<code>new function()</code></h3><ul><li>在使用函数时，实际上是在使用函数构造器模式。这个函数充当构造函数的角色，定义了如何初始化新对象的属性和方法。</li></ul><pre class="code-block"><code class="language-javascript">function Person(name, age) {
  this.name = name;
  this.age = age;
}
Person.prototype.greet = function () {
  console.log(&quot;Hello, my name is &quot; + this.name + &quot; and I am &quot; + this.age + &quot; years old.&quot;);
};
const person1 = new Person(&quot;Alice&quot;, 30);
person1.greet(); // 输出: Hello, my name is Alice and I am 30 years old.
</code></pre><h3>使用<code>new class</code></h3><ul><li>ES6 引入了类语法（<code>class</code>），使得基于类的面向对象编程在语法上更加清晰和直观。类的内部工作原理与使用构造函数的模式相似，但提供了更丰富的语法和特性，比如基于类的继承等。</li></ul><pre class="code-block"><code class="language-javascript">class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  greet() {
    console.log(`Hello, my name is ${this.name} and I am ${this.age} years old.`);
  }
}
const person2 = new Person(&quot;Bob&quot;, 25);
person2.greet(); // 输出: Hello, my name is Bob and I am 25 years old.
</code></pre><h3>主要区别</h3><ul><li><strong>语法和语义</strong>：<code>class</code>提供了一种清晰、模块化的方式来定义构造函数和原型方法。通过<code>class</code>关键字声明类使得代码更加直观易懂。</li><li><strong>继承</strong>：使用<code>class</code>语法，可以通过<code>extends</code>关键字更加简洁地实现继承。而在传统的函数式继承中，需要手动设置原型链。</li><li><strong>严格模式</strong>：使用<code>class</code>语法定义的类的方法自动运行在严格模式下(<code>&quot;use strict&quot;</code>)，而传统的构造函数则需要手动声明。</li><li><strong>构造函数和原型方法的声明</strong>：<code>class</code>语法使得构造函数和原型方法的声明更加直观和组织化，而在传统的构造函数中，需要分别设置构造函数的属性和其原型的方法。</li></ul><h3>结论</h3><p>虽然<code>new function()</code>和<code>new class</code>都可以用来创建新的对象实例，但<code>class</code>提供了更现代、更丰富的语法和特性，使得代码更加直观、易于管理和维护。然而，重要的是理解两者在 JavaScript 底层使用相同的原型继承机制。</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>