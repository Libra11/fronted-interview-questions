<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>给 axios 做一个通用拦截器，实现功能为状态码非 200 的时候，统一拦截错误， 提示一个 toast, 该如何实现【热度: 339】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：axios 拦截器&lt;/p&gt;&lt;blockquote&gt;作者备注&lt;/blockquote&gt;&lt;blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&gt;拦截器是 axios 的最核心功能之一， 该问题只是考察 axios 的核" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="给 axios 做一个通用拦截器，实现功能为状态码非 200 的时候，统一拦截错误， 提示一个 toast, 该如何实现【热度: 339】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：axios 拦截器&lt;/p&gt;&lt;blockquote&gt;作者备注&lt;/blockquote&gt;&lt;blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&gt;拦截器是 axios 的最核心功能之一， 该问题只是考察 axios 的核心功能的基本使用&lt;/blockquote&gt;&lt;p&gt;以下是使用 Axios 的拦截器来实现当状态码非 200 时统一拦截错误" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/948" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>给 axios 做一个通用拦截器，实现功能为状态码非 200 的时候，统一拦截错误， 提示一个 toast, 该如何实现【热度: 339】</h1>
      <div class="subtitle">web应用场景 · 网络 · web应用场景</div>
      <div class="meta">创建：2024-09-28T02:44:18Z · 更新：2024-09-28T02:44:19Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：axios 拦截器</p><blockquote>作者备注</blockquote><blockquote></blockquote><blockquote>拦截器是 axios 的最核心功能之一， 该问题只是考察 axios 的核心功能的基本使用</blockquote><p>以下是使用 Axios 的拦截器来实现当状态码非 200 时统一拦截错误并提示 toast 的方法：</p><p>假设你使用了一个名为 <code>toast</code> 的函数来显示 toast 消息，这个函数可以根据你的实际使用的 UI 库进行调整。</p><pre class="code-block"><code class="language-javascript">import axios from &quot;axios&quot;;

// 创建 Axios 实例
const instance = axios.create();

// 添加请求拦截器
instance.interceptors.request.use(
  (config) =&gt; {
    // 在发送请求之前做些什么，比如添加请求头、加载动画等
    return config;
  },
  (error) =&gt; {
    // 对请求错误做些什么
    return Promise.reject(error);
  }
);

// 添加响应拦截器
instance.interceptors.response.use(
  (response) =&gt; {
    // 对响应数据做点什么
    return response;
  },
  (error) =&gt; {
    if (error.response &amp;&amp; error.response.status !== 200) {
      // 非 200 状态码时显示 toast
      toast(&quot;请求错误！&quot;);
    }
    return Promise.reject(error);
  }
);

export default instance;
</code></pre><p>在上述代码中，首先创建了一个 Axios 实例，然后分别添加了请求拦截器和响应拦截器。在响应拦截器中，当响应状态码不是 200 时，调用<code>toast</code>函数显示错误提示信息。</p><p>请注意，这里的<code>toast</code>函数只是一个示例，你需要根据实际使用的 UI 框架或库来实现具体的 toast 显示功能。</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>