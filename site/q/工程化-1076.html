<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>vite 和  rollup 是什么样的依赖关系【热度: 153】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：vite 和 rollup&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;Vite 对 Rollup 的依赖关系（主要在生产构建阶段）&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;构建过程的底层调用&lt;/strong&gt;" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="vite 和  rollup 是什么样的依赖关系【热度: 153】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：vite 和 rollup&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;Vite 对 Rollup 的依赖关系（主要在生产构建阶段）&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;构建过程的底层调用&lt;/strong&gt;：Vite 在生产构建过程中依赖 Rollup 来打包代码。当执行&lt;code&gt;vite build&lt;/code&gt;命令时，" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/1076" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>vite 和  rollup 是什么样的依赖关系【热度: 153】</h1>
      <div class="subtitle">工程化 · 工程化</div>
      <div class="meta">创建：2024-11-23T06:15:32Z · 更新：2024-11-23T06:15:33Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：vite 和 rollup</p><ol><li><strong>Vite 对 Rollup 的依赖关系（主要在生产构建阶段）</strong></li></ol><ul><li><strong>构建过程的底层调用</strong>：Vite 在生产构建过程中依赖 Rollup 来打包代码。当执行<code>vite build</code>命令时，Vite 会在内部调用 Rollup 来处理模块打包任务。Rollup 会按照 Vite 提供的配置信息（如入口文件、输出格式、插件等）对项目中的 ES 模块（ESM）进行处理。</li><li><strong>配置共享与交互</strong>：Vite 的配置文件（<code>vite.config.js</code>）中的<code>build.rollupOptions</code>部分用于向 Rollup 传递配置。这意味着 Vite 的构建配置可以直接影响 Rollup 的打包行为。例如，通过配置<code>rollupOptions</code>中的<code>input</code>指定入口文件，<code>output</code>指定输出格式（如<code>umd</code>、<code>es</code>、<code>csm</code>等）和文件路径，以及添加 Rollup 插件来扩展功能。这种配置共享机制表明 Vite 在构建过程中深度依赖 Rollup 的打包功能，并通过配置来定制打包流程。</li><li><strong>功能利用与优化协作</strong>：Vite 利用 Rollup 的诸多优化功能来生成高质量的生产代码。其中，Tree - Shaking（摇树优化）是 Rollup 的一个关键特性，Vite 借助这一功能去除未使用的代码，减小打包文件的大小。另外，Rollup 的作用域提升（Scope Hoisting）功能也有助于提高代码性能，Vite 在构建时通过 Rollup 实现这一优化，使得代码在浏览器中的执行更加高效。</li></ul><ol><li><strong>Rollup 相对独立于 Vite 的存在</strong></li></ol><ul><li><strong>Rollup 自身的功能完整性</strong>：Rollup 本身是一个独立的 JavaScript 模块打包工具，它具有自己的一套完整功能体系。它可以独立于 Vite 使用，开发者可以直接使用 Rollup 来打包 JavaScript 库或应用，通过编写 Rollup 配置文件（<code>rollup.config.js</code>）来指定打包规则，包括入口文件、输出格式、插件使用等。例如，许多 JavaScript 库的作者使用 Rollup 来打包他们的代码，以生成高效、简洁的库文件供其他开发者使用。</li><li><strong>应用场景的差异</strong>：Rollup 主要聚焦于模块打包和代码优化，适用于各种需要将 ES 模块转换为可部署格式的场景。而 Vite 除了在生产构建时使用 Rollup 进行打包外，更侧重于开发过程中的快速开发体验，如利用浏览器原生 ES 模块支持实现快速的模块加载和热替换（HMR）。这意味着在开发模式下，Vite 的功能与 Rollup 有明显的区别，Rollup 在这个阶段通常不参与 Vite 的主要功能实现。</li></ul><ol><li><strong>插件生态中的关联与差异</strong></li></ol><ul><li><strong>插件共享基础</strong>：Vite 在生产构建阶段与 Rollup 的插件生态有一定的关联。部分 Rollup 插件可以在 Vite 的生产构建过程中直接使用或者经过适当修改后使用。这是因为 Vite 在生产构建底层基于 Rollup，它们在插件机制上有一些相似之处，例如在代码压缩、模块转换等方面的插件功能可以共享。</li><li><strong>插件开发的侧重点差异</strong>：尽管有共享插件的可能性，但 Vite 和 Rollup 的插件开发也有不同的侧重点。Vite 插件可能需要考虑更多与开发服务器、即时编译、样式处理等开发过程相关的功能，而 Rollup 插件更侧重于模块打包和优化环节，如自定义模块解析、高级的 Tree - Shaking 策略等。</li></ul></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>