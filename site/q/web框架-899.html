<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[Vue] 如何处理异步加载组件【热度: 254】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：异步加载组件&lt;/p&gt;&lt;p&gt;在 Vue 应用中，异步组件是指那些在声明时不会立即加载，而是在需要的时候才加载的组件。使用异步组件能够帮助你提高应用的加载速度和性能，特别是在处理大型应用和路由懒加载时。Vue 提供了几种处理异步加载组件" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="[Vue] 如何处理异步加载组件【热度: 254】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：异步加载组件&lt;/p&gt;&lt;p&gt;在 Vue 应用中，异步组件是指那些在声明时不会立即加载，而是在需要的时候才加载的组件。使用异步组件能够帮助你提高应用的加载速度和性能，特别是在处理大型应用和路由懒加载时。Vue 提供了几种处理异步加载组件的方法。&lt;/p&gt;&lt;h3&gt;Vue 3 中处理异步组件的方法&lt;/h3&gt;&lt;h4&gt;使用 &lt;code&gt;defineAsyncCom" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/899" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>[Vue] 如何处理异步加载组件【热度: 254】</h1>
      <div class="subtitle">web框架 · web框架</div>
      <div class="meta">创建：2024-09-17T06:18:53Z · 更新：2024-09-17T06:18:54Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：异步加载组件</p><p>在 Vue 应用中，异步组件是指那些在声明时不会立即加载，而是在需要的时候才加载的组件。使用异步组件能够帮助你提高应用的加载速度和性能，特别是在处理大型应用和路由懒加载时。Vue 提供了几种处理异步加载组件的方法。</p><h3>Vue 3 中处理异步组件的方法</h3><h4>使用 <code>defineAsyncComponent</code> 方法</h4><p>Vue 3 提供了 <code>defineAsyncComponent</code> 方法，使得定义和使用异步组件变得简单。你可以通过传递一个函数，该函数返回一个 <code>import()</code> 调用（返回 Promise），来动态加载组件。</p><pre class="code-block"><code class="language-javascript">import { defineAsyncComponent } from &quot;vue&quot;;

const AsyncComponent = defineAsyncComponent(() =&gt; import(&quot;./components/AsyncComponent.vue&quot;));

// 在组件中使用
export default {
  components: {
    AsyncComponent,
  },
};
</code></pre><h4>加载状态处理</h4><p>你还可以使用 <code>defineAsyncComponent</code> 的高级用法，提供一个对象来处理加载状态，如显示加载中的提示、错误处理和超时处理。</p><pre class="code-block"><code class="language-javascript">const AsyncComponent = defineAsyncComponent({
  // 加载异步组件的工厂函数
  loader: () =&gt; import(&quot;./components/AsyncComponent.vue&quot;),
  // 加载中时要使用的组件
  loadingComponent: LoadingComponent,
  // 加载失败时要使用的组件
  errorComponent: ErrorComponent,
  // 在显示 loadingComponent 之前的延迟 | 默认值：200（毫秒）
  delay: 200,
  // 如果提供了超时时间（毫秒），超时后将显示错误组件 | 默认值：Infinity
  timeout: 3000,
});
</code></pre><h3>Vue 2 中处理异步组件的方法</h3><p>在 Vue 2 中，异步组件的定义略有不同，你可以直接在组件注册时提供一个返回 Promise 的工厂函数。</p><pre class="code-block"><code class="language-javascript">Vue.component(&quot;async-component&quot;, () =&gt; import(&quot;./components/AsyncComponent.vue&quot;));
</code></pre><p>或者为了处理加载状态，可以提供一个高级的对象形式：</p><pre class="code-block"><code class="language-javascript">Vue.component(&quot;async-component&quot;, (resolve, reject) =&gt; ({
  // 需要加载的组件 (应该是一个 Promise)
  component: import(&quot;./components/AsyncComponent.vue&quot;),
  // 异步组件加载时使用的组件
  loading: LoadingComponent,
  // 加载失败时使用的组件
  error: ErrorComponent,
  // 展示加载中组件前的等待时间。默认：200ms。
  delay: 200,
  // 如果提供了超时时间 (毫秒)，超时后会显示错误组件。默认：Infinity
  timeout: 3000,
}));
</code></pre></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>