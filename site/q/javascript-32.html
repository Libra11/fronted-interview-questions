<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>解释一下 原型、构造函、实例、原型链 之间的关系？ - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;h1&gt;创建对象有哪几种方式？&lt;/h1&gt;&lt;pre class=&quot;code-block&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;// 面向字面量 var o1={name:&amp;#39;01&amp;#39;}; var o11=new Object({name:&amp;#39;o11" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="解释一下 原型、构造函、实例、原型链 之间的关系？" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;h1&gt;创建对象有哪几种方式？&lt;/h1&gt;&lt;pre class=&quot;code-block&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;// 面向字面量 var o1={name:&amp;#39;01&amp;#39;}; var o11=new Object({name:&amp;#39;o11&amp;#39;}); // 使用显示的构造函数： var M=function(){this.name=&amp;#39;02&amp;#3" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/32" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>解释一下 原型、构造函、实例、原型链 之间的关系？</h1>
      <div class="subtitle">JavaScript · JavaScript</div>
      <div class="meta">创建：2023-03-06T15:20:50Z · 更新：2023-03-06T15:20:51Z</div>
    </div>
    <article class="content markdown-body"><h1>创建对象有哪几种方式？</h1><pre class="code-block"><code class="language-js">// 面向字面量
var o1={name:&#39;01&#39;};
var o11=new Object({name:&#39;o11&#39;});

// 使用显示的构造函数：
var M=function(){this.name=&#39;02&#39;};
var o2=new M();

// 通过Object.create()创建
var P={name:&#39;o3&#39;};
var o3=Object.create(P)
</code></pre><h1>解释一下 原型、构造函、实例、原型链 之间的关系？</h1><p><img alt="01_01" src="https://user-images.githubusercontent.com/22188674/221917767-022a2d09-3539-4e54-a462-34299be8eb0b.png" /></p><h2>1、基础</h2><p>构造函数可以通过new来生成一个实例、构造函数也是函数；</p><p>函数都有一个prototype属性，这个就是原型对象；</p><p>原型对象可以通过构造器constructor来指向它的构造函数；</p><p>实例的__proto__属性，指向的是其构造函数的原型对象；</p><p><strong>原型链</strong>：从一个实例对象，向上找构造这个实例相关联的对象，相关联的对象又向上找，找到创造它的一个实例对象，</p><p>一直到Object.prototype截止。原型链是通过prototype和__proto__向上找的。构造函数通过prototype创建了很多方法，</p><p>被其所有实例所公用，存放在原型对象上；</p><p>例子：</p><pre class="code-block"><code class="language-javascript">var M=function(name){this.name=name};
var o3=new M(&#39;o3&#39;);
</code></pre><p>当我们需要扩展实例的时候，我们可以对构造函数添加方法，但是这样会创建每一个实例都拷贝一份它自己的添加的方法，</p><p>占用内存，而且也没有必要，这个时候就可以新添加的方法写进原型里面去，添加到原型链中去，</p><p>在实例的原型链中我们可以在原型对象上找到添加的方法；</p><pre class="code-block"><code class="language-javascript">var M=function(name){this.name=name};
var o3=new M(&#39;o3&#39;);
M.prototype.say=function(){
Console.log(&#39;say hi&#39;);
};
var o5=new M(&#39;o5&#39;);
</code></pre><p>通过这种方式o3和o5都有say方法；原型链的优势是原型对象的方法是被所有实例共有的；</p><p>当访问一个实例方法的时候，首先在实例本身找这个方法，如果没有找到就会到其构建函数的原型对象去找，如果还是没有找到，</p><p>那么它会继续通过原型链在原型对象的更上一级查找，一直到object.prototype;</p><p>一定要记住只有函数才有proptotype,对象是没有的；</p><p>只有实例对象又__proto__ , 因为函数也是对象，所以函数也有__proto__ , 但是和实例对象的__proto__是有区别的，函数的__proto__是function这个对象的构造实例；</p><h2>2、instanceof 原理</h2><p>实例对象上面有一个__proto__ ，这个是引用的它构造函数的原型对象；</p><p>instanceof是用来判断实例是不是由某个构造函数实例化出来的对象，其原理是判断实例对象是否指向构造函数的原型；</p><p>只要是在原型链上的函数，都会被instanceof看做是实例对象的一个构造函数，所以都会返回true;</p><pre class="code-block"><code>m1.__proto__===m1.prototype;返回true
m1.prototype.__proto===Object.prototype;返回true

o3.__proto__.constructor===Object;//返回false
所以我们判断一个实例对象的构造函数，用constructor;
</code></pre><h2>3、new 运算符</h2><p>后面跟着的是一个构造函数</p><p>一个新对象被创建。它继承自 foo.prototype-></p><p>构造函数foo会被执行，执行的时候，相应的传参会被传入，同时上下文（this）会被指定为这个新实例。	new foo等同于new foo(),只能在不传递任何参数的情况-></p><p>如果构造函数返回了一个‘对象’，那么这个对象会取代整个new 出来的结果。如果构造函数没有返回值，	那么new出来的结果为步骤1创建的对象</p><h2>4、Object.create()</h2><p>创建的实例对象是指向的对象原型，实例对象本身是不具备创建对象的属性和方法的，是通过原型链来链接的。</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>