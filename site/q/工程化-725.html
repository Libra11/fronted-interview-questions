<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>husky 作用是啥， 有哪些重要配置【热度: 192】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：husky 作用、husky 配置&lt;/p&gt;&lt;p&gt;Husky 是一个基于 Node 的 Git 钩子管理工具，用于在你的工作流程中强制执行 Git 钩子。Husky 允许你定义脚本，这些脚本会在不同的 Git 生命周期事件触发时自运行" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="husky 作用是啥， 有哪些重要配置【热度: 192】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：husky 作用、husky 配置&lt;/p&gt;&lt;p&gt;Husky 是一个基于 Node 的 Git 钩子管理工具，用于在你的工作流程中强制执行 Git 钩子。Husky 允许你定义脚本，这些脚本会在不同的 Git 生命周期事件触发时自运行，比如在提交、推送或合并前。&lt;/p&gt;&lt;p&gt;使用 Husky 可以：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;保证提交质量&lt;" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/725" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>husky 作用是啥， 有哪些重要配置【热度: 192】</h1>
      <div class="subtitle">工程化 · 工程化 · 腾讯</div>
      <div class="meta">创建：2024-04-20T09:32:12Z · 更新：2024-04-20T09:32:12Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：husky 作用、husky 配置</p><p>Husky 是一个基于 Node 的 Git 钩子管理工具，用于在你的工作流程中强制执行 Git 钩子。Husky 允许你定义脚本，这些脚本会在不同的 Git 生命周期事件触发时自运行，比如在提交、推送或合并前。</p><p>使用 Husky 可以：</p><ol><li><strong>保证提交质量</strong>：Husky 可以在你提交代码之前运行代码校验，确保代码符合项目规范，提高代码质量。</li><li><strong>维护代码风格</strong>：可以在提交时检查代码风格，确保代码风格一致性。</li><li><strong>自动化流程</strong>：支持在推送前执行代码部署、测试脚本，让整个开发流程自动化。</li><li><strong>预防错误</strong>：例如在允许推送到远程仓库之前检查代码中是否有遗留的更改。</li></ol><p>Husky 的一些重要配置如下：</p><ol><li><strong><code>npm install husky@latest --save-dev</code></strong>: 安装 husky。</li><li><strong><code>npx husky install</code></strong>: 在新建的项目管理下生成 husky 的配置文件。</li><li>*<em><code>npx husky add .husky/&lt;/em&gt;.sh</code>*<em>: 添加 Git 钩子脚本，这里的 <code>&lt;/em&gt;.sh</code> 是你想触发的钩子点，例如：<code>pre-commit</code>、<code>commit-msg</code> 等。</li></ol><p>Husky 支持的钩子包括：</p><ul><li><code>apply-patch-msg</code>: 应用一个补丁到暂存区并生成提交信息时。</li><li><code>pre-applypatch</code>: 打补丁前。</li><li><code>post-applypatch</code>: 打补丁后。</li><li><code>pre-commit</code>: 提交前，常用于检查代码、分析代码风格等。</li><li><code>prepare-commit-msg</code>: 提交准备工作完成后，修改提交信息之前运行。</li><li><code>commit-msg</code>: 检查提交信息有效性。</li><li><code>post-commit</code>: 提交后。</li><li><code>pre-rebase</code>: 回滚操作开始前。</li><li><code>post-checkout</code>: 检出操作后（如切换分支）。</li><li><code>post-merge</code>: 合并和变基操作后。</li></ul><p>记得在 <code>.husky</code> 文件夹里配置这些钩子脚本，你可以根据项目需求来写自己的 hook 脚本。比如，设置一个 <code>.husky/pre-commit</code> 脚本（可能是一个 shell 脚本和 Node.js 脚本的组合），当你尝试提交代码时，Husky 将会运行这个脚本作为 <code>pre-commit</code> 钩子。</p><p>在一些场景下的 <code>.husky/pre-commit</code> 脚本，你可以指定运行如下：</p><pre class="code-block"><code class="language-bash">#!/bin/sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

npm run lint  # 运行 ESLint 检查代码
./node_modules/.bin/pretty-quick  # 格式化代码
./node_modules/.bin/tsc  # 检查 TypeScript
</code></pre><p>以上脚本将确保代码在提交前通过了 linter 检查，并通过 prettier 快速格式化以及 TypeScript 编译。</p><p>使用的时候，请确认你的项目已经有了 Node.js 环境，并且已经安装了 Husky 和相应的代码检查、格式化工具。</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>