<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>npm script 生命周期有哪些?【热度: 519】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：npm 生命周期、script 生命周期&lt;/p&gt;&lt;h3&gt;安装和卸载&lt;/h3&gt;&lt;p&gt;| 脚本名称 | 阶段 | 描述 | 执行时机 |&lt;/p&gt;&lt;p&gt;|-----------------|--------------|---------" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="npm script 生命周期有哪些?【热度: 519】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：npm 生命周期、script 生命周期&lt;/p&gt;&lt;h3&gt;安装和卸载&lt;/h3&gt;&lt;p&gt;| 脚本名称 | 阶段 | 描述 | 执行时机 |&lt;/p&gt;&lt;p&gt;|-----------------|--------------|---------------------------------------------------------------------" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/341" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>npm script 生命周期有哪些?【热度: 519】</h1>
      <div class="subtitle">工程化 · 工程化 · 小米</div>
      <div class="meta">创建：2023-05-06T12:00:10Z · 更新：2023-05-06T12:10:45Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：npm 生命周期、script 生命周期</p><h3>安装和卸载</h3><p>| 脚本名称           | 阶段           | 描述                                                                                                                                                   | 执行时机                                                  |</p><p>|-----------------|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|</p><p>| preinstall      | pre           | 在 npm install 执行前运行，用于执行一些安装前的准备工作，例如检查依赖项或设置环境变量。                                                               | 安装前                                                     |</p><p>| install, postinstall  | install | 在模块安装后执行，通常用于构建项目或者为其生成某些必须的文件，例如安装完毕后自动编译 TypeScript、ES6 等。                                               | 安装后                                                     |</p><p>| preuninstall    | pre           | 在 npm uninstall 执行前运行，用于执行一些卸载前的准备工作。                                                                                            | 卸载前                                                     |</p><p>| uninstall       | post          | 在 npm uninstall 执行后运行，用于清理卸载后的一些操作。                                                                                                | 卸载后                                                     |</p><p>| postuninstall   | post          | 在 npm uninstall 执行后运行，用于执行一些卸载后的操作。                                                                                                | 卸载后                                                     |</p><h3>发布和更新版本</h3><p>| 脚本名称           | 阶段           | 描述                                                                                                                                                   | 执行时机                                                  |</p><p>|-----------------|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|</p><p>| prepublish      | pre           | 在 publish（npm发布）执行前，运行 npm pack。                                                                                                           | 发布前                                                     |</p><p>| prepare         | pre           | 在包被发布前或安装前执行，可以用来设置编译或验证文件的操作。                                                                                        | 发布前、安装前                                             |</p><p>| prepublishOnly  | pre           | 在 npm publish 执行前运行，用于确保在 publish 命令执行时不会意外发布不必要的文件。                                                                  | 发布前                                                     |</p><p>| prepack         | pre           | 在 npm pack（打包命令）执行前运行，用于执行一些打包前的准备工作。                                                                                      | 打包前                                                     |</p><p>| postpack        | post          | 在 npm pack 执行后运行，用于清理和重置打包相关的操作。                                                                                                | 打包后                                                     |</p><p>| publish         | post          | 在包被成功发布后执行。                                                                                                                                 | 发布后                                                     |</p><p>| postpublish     | post          | 在包被成功发布后执行，用于执行一些发布后的操作。                                                                                                     | 发布后                                                     |</p><p>| preversion      | pre           | 在项目版本号更新（npm version）之前执行。                                                                                                             | 更新版本号前                                               |</p><p>| version         | post          | 在 npm version 执行后执行，用于执行一些版本更新后的操作。                                                                                              | 更新版本号后                                               |</p><p>| postversion     | post          | 在项目版本号更新（npm version）之后执行。                                                                                                             | 更新版本号后                                               |</p><h3>测试和运行</h3><p>| 脚本名称           | 阶段           | 描述                                                                                                                                                   | 执行时机                                                  |</p><p>|-----------------|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|</p><p>| pretest         | pre           | 在 npm test 执行前执行，用于执行某些测试前的准备工作。                                                                                                | 测试前                                                     |</p><p>| test            | test         | 执行 npm run test 命令时执行。通常用于执行单元测试，并返回任何错误状态。                                                                               | 默认测试阶段                                               |</p><p>| posttest        | post          | 在 npm test 执行后执行，用于执行某些测试后的操作。                                                                                                    | 测试后                                                     |</p><p>| prestart        | pre           | 在 npm start 执行前运行，用于执行某些启动进程前的准备工作。                                                                                            | 启动前                                                     |</p><p>| start           | start        | 执行 npm start 命令时执行，通常用于启动 Web 服务器、Node 服务器、实时编译器等。                                                                        | 默认启动阶段                                               |</p><p>| poststart       | post          | 在 npm start 执行后执行，用于执行某些启动进程后的操作。                                                                                                | 启动后                                                     |</p><p>| prerestart      | pre           | 在 npm restart 执行前执行，用于执行一些重新启动进程前的准备工作。                                                                                      | 重新启动前                                                 |</p><p>| restart         | stop/start   | 执行 npm restart 命令时执行，通常用于停止正在运行的 Node 服务器、Web 服务器等，然后以更新的源码重新启动服务。                                      | 默认重新启动阶段，但是该命令会触发停止和启动两个标准阶段 |</p><p>| postrestart     | post          | 在 npm restart 执行后执行，用于执行一些重新启动进程后的操作。                                                                                          | 重新启动后                                                 |</p><h3>其他生命周期</h3><p>| 脚本名称           | 阶段           | 描述                                                                                                                                                   | 执行时机                                                  |</p><p>|-----------------|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|</p><p>| prestop         | pre           | 在 npm stop 执行前运行，用于执行某些停止进程前的准备工作。                                                                                            | 停止前                                                     |</p><p>| stop            | stop         | 执行 npm stop 命令时执行，通常用于停止正在运行的 Web 服务器、Node 服务器、实时编译器等。                                                               | 默认停止阶段                                               |</p><p>| poststop        | post          | 在 npm stop 执行后执行，用于执行某些停止进程后的操作。                                                                                                 | 停止后                                                     |</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>