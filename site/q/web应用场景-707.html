<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>在表单校验场景中， 如何实现页面视口滚动到报错的位置【热度: 248】 - 面试题刷题</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <meta name="description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：滚动到页面视口&lt;/p&gt;&lt;h3&gt;基本原理&lt;/h3&gt;&lt;p&gt;页面是用户与程序进行交互的界面，在对应表单校验场景中，通常会因为有填写错误需要用户进行修改。为了提高用户体验，可以将页面滚动至对应表单报错的位置，使得用户立即可见错误并进行修改。" />
  <link rel="icon" href="../assets/favicon.svg" />
  <style>.content a{color:var(--brand);} .content img{max-width:100%;}</style>
  
  <!-- Open Graph -->
  <meta property="og:title" content="在表单校验场景中， 如何实现页面视口滚动到报错的位置【热度: 248】" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="&lt;p&gt;&lt;strong&gt;关键词&lt;/strong&gt;：滚动到页面视口&lt;/p&gt;&lt;h3&gt;基本原理&lt;/h3&gt;&lt;p&gt;页面是用户与程序进行交互的界面，在对应表单校验场景中，通常会因为有填写错误需要用户进行修改。为了提高用户体验，可以将页面滚动至对应表单报错的位置，使得用户立即可见错误并进行修改。这通常可以通过 JavaScript 编程实现。&lt;/p&gt;&lt;p&gt;要注意的是，实现滚动至错误表单，一般需要几个步骤：&lt;/p&gt;" />
  <meta property="og:locale" content="zh_CN" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="../index.html">面试题刷题</a>
      <nav class="nav">
        <a href="../index.html">首页</a>
        <a href="../index.html#categories">分类</a>
        <a href="https://github.com/pro-collection/interview-question/issues/707" target="_blank" rel="noopener">原始链接</a>
      </nav>
    </div>
  </header>
  <main class="container article">
    <div class="article-head">
      <a class="back" href="../index.html">← 返回列表</a>
      <h1>在表单校验场景中， 如何实现页面视口滚动到报错的位置【热度: 248】</h1>
      <div class="subtitle">web应用场景 · web应用场景 · 小红书</div>
      <div class="meta">创建：2024-04-19T15:55:27Z · 更新：2024-04-19T15:56:59Z</div>
    </div>
    <article class="content markdown-body"><p><strong>关键词</strong>：滚动到页面视口</p><h3>基本原理</h3><p>页面是用户与程序进行交互的界面，在对应表单校验场景中，通常会因为有填写错误需要用户进行修改。为了提高用户体验，可以将页面滚动至对应表单报错的位置，使得用户立即可见错误并进行修改。这通常可以通过 JavaScript 编程实现。</p><p>要注意的是，实现滚动至错误表单，一般需要几个步骤：</p><ol><li><strong>记录表单元素的位置</strong>：在表单提交前的适当时间里记录所有表单元素的错误位置。</li><li><strong>滚动到特定错误</strong>：错误发生时，滚动到第一个错误的表单元素位置。</li><li><strong>优化</strong>：可为同一元素多次错误滚动优化，避免不必要的用户干扰。</li></ol><h3>以下是这些步骤的代码示例</h3><h3>HTML:</h3><pre class="code-block"><code class="language-html">&lt;form id=&quot;myForm&quot; onsubmit=&quot;return false;&quot;&gt;
  &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; /&gt;
  &lt;input type=&quot;text&quot; id=&quot;age&quot; name=&quot;age&quot; /&gt;
  &lt;!-- ... 其他表单元素 ... --&gt;
  &lt;button type=&quot;submit&quot; onclick=&quot;handleValidation()&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;
</code></pre><h3>JavaScript:</h3><pre class="code-block"><code class="language-javascript">// 一个假设的表单验证函数
function validateInput(inputId) {
  // 调用此处的校验逻辑，返回是否存在错误
  // 这里以ID &quot;inputId&quot;来获取对应的DOM对象
  var el = document.getElementById(inputId);
  // 此处只是示例, 实际上应根据具体的校验逻辑返回一个布尔类型
  return el.value === &quot;预期值&quot;;
}

function handleValidation() {
  var valid = true;

  [&quot;name&quot;, &quot;age&quot;].forEach((key) =&gt; {
    // 进行校验判断
    if (!validateInput(key)) {
      console.error(`Validation failed for: ${key}`);

      // 标记校验失败
      valid = false;

      // 滚动到出现问题的元素位置
      var element = document.getElementById(key);
      element.scrollIntoView({ block: &quot;center&quot;, behavior: &quot;smooth&quot; });

      // 增加一些提示效果, 比如错误边框, 可按需实现
      // element.classList.add(&#39;error-highlight&#39;);
    }
  });

  // 检查是否验证失败，如果失败则不提交表单
  return valid;
}

// 处理表单提交事件，与HTML中的onclick绑定
document.getElementById(&quot;myForm&quot;).addEventListener(&quot;submit&quot;, (e) =&gt; {
  e.preventDefault(); // 阻止表单默认提交行为
  handleValidation();
});
</code></pre><h3>补充知识点 scrollIntoView</h3><p>参考文档： https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollIntoView</p></article>
  </main>
  <footer class="site-footer">© 面试题刷题 · 由本地静态页面生成</footer>
</body>
</html>